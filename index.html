<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: monospace;
    }
  </style>
  <title>Greetings</title>
</head>

<body><code id="code"></code>
  <script>

    const randomElement = (array) => array[Math.floor(Math.random() * array.length)];
    const getRandomInt = (max) => Math.floor(Math.random() * max);

    splashes = [
      `;; ............... .                             ............,
;; .............                    ,(##(/,         .........,
;; ...........                   .#.,%#%%##((((       .......,
;; .........                    * G/%%%%%%%%%###(     ........
;; .......                    #%%%#%%%%%%%%&%%%%%#      ......
;; .....            &&%###(((%%%%%%%%%%%%%%%%%%%%%#.     ...,.
;; ....             %@@@@#%#%%%%%&%%%%%%&&%%%%%%%%%#     ...,.
;; ...                     (%%%%%%%%%@%%%%%%%%%%%%&&     ...,,
;; ..                      .*/((#%&&&&&&@&&%%%%%%%%&     .,,,.
;; ..                       *//((//(////#&@@@@%%%&&%     .,,,,
;;                          ,/**////****(%&&%%#/&&%.     .,,,,
;;                        .***,,,*,,,***/##(##/##&@..    .,,,,
;;                        *((/(,,,*****/##(#//(&@@&*,    .,,,,
;;                          ,**,,,******//(/*((&@@%&*.,  .,,,,
;;                          ,*/(*******//((((((%@&%/%/.  .,,*,
;;                       *#(#***/**////(((((((((((#%/#((/****,
;;                  .*((##&/***/((###(((((((((((/*/(%##%#####/
;;               ./((#%##%&%&&&%%%%(%(#((((((((((/(######%##((
;;              /(##%#&%%%&%&&&&%%#%(####(((/(((#(###%##%##%#(
;;            *(###%%##&%%&&&&%&%%%######(((((##/%%%###%%##%##
;;           /(##%#%&%%%&%&%%&%%%%%%%%##(((((((%%%%%#%%%%%%%##
;; ..       /(##%#%%&%%&%%@%&&%%%&%&%%%%#(((/%%%&%#%%%%%%#%%#%
;; .....   .##%#%%%%%%%&&&&&%&&%%&%%&%%%%%#%%%&%%%%%#%#%%%%%%%
;; ....... (##%#%%%%@%%&&&&&&&&&%%&%&%&&%&%%%%%%%%%%%#%%%&&&&%
;; ........((#%%#%#&&&%&%&%%%%%&&&%%%%&&&%%%##%%%%%%%%%%%@&&%&
;; ....../##(####&&%%&&&&&&&%&&%&&&%%%&&&&%%%#%%%%%%%%%%&@&&&%
;; .....,#%%##%%%%%&&&&&&&&%%%%%&&&&&%&&&&&&%%%%%%%&%%%%&@&&&%
;; ....#%&&%&&&&%%%&@&&&&&%%%%%&&&&@&&&&&&&&&%%%%%&%%%%&&@@@&%
;; ...#(######%%&&@&@@&&&&&&&%&&&&@&&&&&&&&&&&%%%&%%%&&&@@@@&%`,
//       `;;                            -:*vJzvvvlv1zxc>:-
// ;;                       \`^]O#qz?*|zyoZZoy}vvi\\xakur-
// ;;                    ,zDQNJriLumf?'-,?qNRRRW#QD2>^uQMu:
// ;;                 -/MQB9>\\6RqHKkXUq:   \\#RRRRRR8NQkr>PBNt.
// ;;               'aQ#MD>cR$wwwwwwwwwD^   7NRRRRRRRR8#&r^ddBa,
// ;;             'FQNRNZ:RqwwwmmmmmmmwXM'   ORRRRRRRRRRRB9,wKKBe-
// ;;            ,NQRRNo;#Pwwmmmmmmmmmwwku   :BRRRRRRRRRRRgN'mqUHB;
// ;;           ^QNRRgj:QPwmmmmmmmmmmmmmwg    {gRRRRRRRRRRRg#-O969Q7
// ;;          ?QWRRR#'#kwwmmmmmmmmmmmmmXR     U&RRRRRRRRRRR#a~N6UUQF
// ;;         ;@WRRRNvcBwwmmmmmmmmmmmmmwK/';   \`8RRRRRRRRRRR8Q\`m6UUUQL
// ;;        \`QNRRRRB:UDwmmmmmmmmmmmmmwkP;D9e   ~#RRRRRRRRRRRQ:\\O6UU9Q,
// ;;        zQRRRRRQ,qDwmmmmmmmmmmmmwE9:Rww9u   iNRRRRRRRRRRQ;|O666U89
// ;;       \`QNRRRRRQ"FgwmmmmmmmmmmwwUm'DXwmwH*   ogRRRRRRRR8Q.j9666U6@.
// ;;       ;@RRRRRRBc;QwwmmmmmmmmwXKF\`6Pwmmww&,   XWRRRRRRRgd-g6U66UUQ?
// ;;       \\@RRRRRRN#rFMXwmmmmmmwwdL j$wmmmwwXH\`   ENRRRRR8Q~oO6U66U6#x
// ;;       \\@RRRRRR&@x/UDwwmmmwXwH? 7Kwwmmmmmwkm    yN8&RRQ?|R6U666U6#J
// ;;       ;@8RRRRRRQ@ivkRXwwwwwH= ^DwwmmmmmmwwO|    egR&Q?:&666666U6Q*
// ;;       \`QNRRRRRRN@O;maN9wwXH; :RXwwmmmmmmmmwM,    wBO,-g6UU666U6U@-
// ;;        /QRRRRRRRQHZhJ^/dH9' 'RwwwmmmmmmmmmwXH\`  _;;,,eK6U6666UUWk
// ;;         ##RRRRRRQR6$R   ;zRBDXXwmmmmmmmmwwwXdRv/'  PrQ666666U6qQ'
// ;;         ,QNRRRRRQxeK6R;    '>1Z$DRHdddDRdh27;\`    \`PvQ66666UUUQ=
// ;;          ;QgRRRRgBezg@@QBBBBgqu^--:M|,_7eDBBQgwv=zRjkg666UUU6QJ
// ;;           :QNRRRRR##Q@##QQ@Q####96\`\`  9NddKUejUDN@QWK6U66UU9Q/
// ;;            -KQ8RRRR&@PQMq&^      |' \`         \`9m]OUU6UUU6DN:
// ;;              rBBRRRRNQHg#B;'     'Q:q         rjdD666666HB{\`
// ;;                \\NQMRRRRWgNQBP\\i  "Q*Q:  ./BDgBQBRUUU66D#J-
// ;;                  ;6Q#8RRRR&Bqr#-  \`     ~*Bg6U6U666KNDL\`
// ;;                    \`?XBQN8RNgjav|k\\?;>>X\\vN9UU69R#Kv,
// ;;                        ,|oO#QQWq~D\`N\`F,DeQ&g#Hez;\`
// ;;                             \`,;?ctFy2yfz/r:'`
    ]

    words = randomElement(splashes).split('\n')

    // ensure all words are same length
    // words.reduce((a,b) => Math.max(a,b.length),0)

    t = String(Date.now()).slice(0,words.length).split('').map(Number)
    // ws = Array(...words.entries()).map(w => [getRandomInt(words.length * 10), ...w])
    ws = Array(...words.entries()).map(w => [t[w[0] % t.length], ...w])
    ws.sort()

    targetWords = ['mutineers', 'joust']

    // splice word `W` into string `S` starting at position `I`
    spliceWord = (w, i, s, ln) => s.slice(0, i) + w + s.slice(i + ln)

    for (let [i, target] of targetWords.entries()) {
      console.log(i, target)
      str = ws[i][2]
      sidx = getRandomInt(str.length - target.length)

      console.log(ws[i][2])
      ws[i][2] = spliceWord(target, sidx, str, target.length)
      console.log(ws[i][2])
      console.log(ws[i])
    }
    ws.sort((a, b) => (a[1] > b[1]))
    words = ws.map(l => l[2])

    var p = document.createElement("p")
    // console.log(words.join('<br>').replaceAll(' ', '&nbsp;'))
    let html = words.join('<br>').replaceAll(' ', '&nbsp;')
    for (let target of targetWords) {
      html = spliceWord('<a href="' + target + '">' + target + '</a>', html.indexOf(target), html, target.length)
    }
    p.innerHTML = html;
    document.getElementById("code").appendChild(p)

  </script>
</body>

</html>
