<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Shader Renderer & Control Panel</title>
    <link rel="stylesheet" href="style.css">

    <!-- CodeMirror 5 core -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
    <!-- GLSL mode -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>

    <!-- <script>
        document.addEventListener('DOMContentLoaded', async () => {
            document.getElementById('toggle-dark-mode').addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
            });
        });
    </script> -->
</head>

<body>
    <h1>Shader Renderer & Control Panel</h1>
    <!-- <button id="toggle-dark-mode">Toggle Dark Mode</button> -->
    <div id="main-container">
        <!-- Left Panel: Controls -->
        <div id="left-panel">
            <div id="control-scheme-tabs"></div>
            <div id="control-panel">
                <h2>Controls</h2>
                <div id="controls-container"></div>
                <br>
                <!-- Output Container -->
                <div id="output-container">
                    <h3>Output</h3>
                    <pre id="output"></pre>
                </div>
                <!-- Uploads Container -->
                <div id="uploads-container">
                    <div id="folder-upload-container">
                        <label for="folder-upload">Upload Folder (with JSON schema & GLSL shader):</label>
                        <input type="file" id="folder-upload" webkitdirectory directory multiple>
                        <label>
                            Upload configs directory:
                            <input id="configs-upload" type="file" webkitdirectory directory multiple />
                        </label>

                        <label>
                            Choose a cached config:
                            <select id="configs-menu">
                                <option value="">— select —</option>
                            </select>
                            <button id="load-config">Load into Current Tab</button>
                        </label>
                    </div>
                    <!-- Advanced Media Inputs for texture channels -->
                    <div id="advanced-inputs"></div>
                    <div>
                        <button id="enable-mic">Enable Mic</button>
                        <button id="clear-cache-btn">Clear Cache</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Right Panel: Canvas and Uploads -->
        <div id="right-panel">
            <button id="edit-shader-btn">Edit Shader</button>
            <button id="edit-dsl-btn">Edit some Lisp(?)</button>
            <div id="shader-editor" style="display:none; border:none;">
                <button id="apply-shader-edit">Apply Changes</button>
                <button id="cancel-shader-edit">Cancel</button>
                <br>
                <div id="shader-editor-container" style="border:1px solid #ccc;"></div>
            </div>
            <div id="shader-tabs"></div>
            <div id="canvas-settings">
                <label for="canvas-width">Canvas Width:</label>
                <input id="canvas-width" type="number" value="800" min="1" max="8000">
                <label for="canvas-height">Canvas Height:</label>
                <input id="canvas-height" type="number" value="600" min="1" max="8000">
                <button id="update-canvas-dimensions">Update Dimensions</button>
                <br>
                Preset dimensions:
                <button id="preset-dimensions-480p">480p</button>
                <button id="preset-dimensions-720p">720p</button>
                <button id="preset-dimensions-1080p">1080p</button>
                <button id="preset-dimensions-1080p 1:1">1080p 1:1</button>
                <button id="preset-dimensions-2K">2K</button>
                <button id="preset-dimensions-4K">4K</button>
                <button id="preset-dimensions-8K">8K</button>
            </div>
            <canvas id="shader-canvas"></canvas>
            <button id="play-pause">Pause</button>
            <button id="restart">Restart</button>
            <button id="fullscreen-btn">Enter Fullscreen</button>
            <br>
            <button id="start-record">Record</button>
            <button id="stop-record">Stop</button>
            <button id="save-image">Save Image</button>
        </div>
    </div>
    <script src="app.js"></script>
</body>

</html>